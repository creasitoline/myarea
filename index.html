<style>
    /* ... i tuoi stili precedenti ... */

    /* SCANNER FULL SCREEN */
    #scannerOverlay { 
        position: fixed; 
        inset: 0; 
        background: black; 
        z-index: 5000; 
        display: none; 
        flex-direction: column; 
    }
    
    #scannerView {
        position: relative;
        width: 100%;
        height: 100%;
        overflow: hidden;
    }

    #scannerView video { 
        width: 100%; 
        height: 100%; 
        object-fit: cover; 
    }

    /* Sovrapposizione grafica scanner (il mirino) */
    .scanner-laser {
        position: absolute;
        top: 50%; left: 50%;
        transform: translate(-50%, -50%);
        width: 70%;
        height: 2px;
        background: red;
        box-shadow: 0 0 10px red;
        animation: scanAnim 2s infinite;
    }

    @keyframes scanAnim {
        0% { top: 30%; }
        50% { top: 70%; }
        100% { top: 30%; }
    }

    .scan-result-box { 
        background: white;
        padding: 25px; 
        border-radius: 30px 30px 0 0;
        position: fixed;
        bottom: 0;
        width: 100%;
        box-sizing: border-box;
        z-index: 5100;
        display: none;
        max-height: 80vh;
        overflow-y: auto;
    }

    .close-scan {
        position: absolute;
        top: 20px;
        right: 20px;
        background: rgba(255,255,255,0.8);
        padding: 10px;
        border-radius: 50%;
        z-index: 5200;
        font-weight: bold;
    }
</style>

<div id="scannerOverlay">
    <div class="close-scan" onclick="closeScanner()">‚úï</div>
    <div id="scannerView">
        <div class="scanner-laser"></div>
    </div>

    <div id="scanResult" class="scan-result-box">
        <div style="width:40px; height:5px; background:#ddd; border-radius:5px; margin: 0 auto 20px;"></div>
        <h2 id="resTitle" style="margin:0; font-size: 22px;">Cercando...</h2>
        <p id="resDesc" style="color:#666; font-size:14px; margin: 10px 0;"></p>
        
        <div class="portal-grid">
            <div class="btn-portal" id="btnPort1">üîç Google Shopping</div>
            <div class="btn-portal" id="btnPort2">üì¶ Amazon</div>
            <div class="btn-portal" id="btnPort3">üè∑Ô∏è eBay</div>
            <div class="btn-portal" id="btnPort4">üõí Everli</div>
        </div>

        <hr style="border:0; border-top:1px solid #eee; margin:20px 0;">
        
        <h4 style="margin-bottom:10px;">Aggiungi manualmente</h4>
        <input type="number" id="manualPrice" class="login-input" placeholder="Prezzo (‚Ç¨) es: 1.50">
        <input type="text" id="manualStore" class="login-input" placeholder="Negozio es: Conad">
        <button class="btn-action" style="background:var(--success)" onclick="savePriceManual()">SALVA IN MIA SPESA</button>
    </div>
</div>
